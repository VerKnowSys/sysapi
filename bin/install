#!/bin/sh


SYSTEM_NAME="$(uname 2>/dev/null)"


case "${SYSTEM_NAME}" in
    FreeBSD)
        echo "Building and installing: SysAPI"
        git pull --jobs 4 && \
            cargo build --release && \
            killall sysapi 2>/dev/null
        strip -s -d target/release/sysapi
        install -v target/release/sysapi /usr/bin/sysapi && \
            echo "Successfully installed: SysAPI" && \
                exit 0
        ;;

    *)
        echo "Platform not supported: ${SYSTEM_NAME}" && \
            exit 1
        ;;

esac
